function helpers(){if(window===this)return new helpers;this.about={version:.1,author:"Romain Stiffler",created:"December 2015",updated:"NA yet",description:""}}function webGenerator(){if(window===this)return new webGenerator;if($===undefined)return alert("JQuery is not include./r/nPlease consider add JQuery libraries."),null;if(_R$===undefined)return alert("_R$ framework is not include./r/nPlease consider add _R$ framework library."),null;this.about={Version:.1,Author:"Romain Stiffler",Created:"Dec 2015",Updated:"Jan 2018"}}var _R$,WebGenerator;helpers.prototype={htmlTemplates:{library:{_loading:'<div class="spinner">\n<div><\/div>\n<div><\/div>\n<div><\/div>\n<\/div>',_fileUploaded:'<div id="[-ID-]" class="file-uploaded uploading">\n<span class="glyphicon glyphicon-remove"><\/span>\n<div>[-IMG-]<\/div>\n<div class="filename">[-DISPLAYNAME-]<\/div>\n<div class="inprogress ball-spin"><\/div>\n<\/div>',_img:'<img src="[-SRC-]" alt="[-NAME-]">'},loading:function(){return this.library._loading},fileUpload:function(n){return n?(n.filename=n.filename||"",n.displayname=n.displayname||n.filename,n.id=n.id||"",n.img=n.img||"",n.filepath=n.filepath||"",n.index=n.index||"",this.library._fileUploaded.replace(/\[-ID-\]/g,n.id).replace(/\[-DISPLAYNAME-\]/g,n.displayname).replace(/\[-IMG-\]/g,n.img).replace(/\[-FILEPATH-\]/g,n.filepath).replace(/\[-INDEX-\]/g,n.index).replace(/\[-FILENAME-\]/g,n.filename)):""},img:function(n){return n?(n.name=n.name||"",n.src=n.src||"#",this.library._img.replace("[-SRC-]",n.src).replace("[-NAME-]",n.name)):""}},animHtmlElement:function(n,t){t||(t={});this.prepareForAnimatedLoadingHtmlElement($(n).children(),t);setTimeout(function(){this.loadHtmlElement(!0,$(n).children(),t)},t.duration?t.duration:100)},loadHtmlElement:function(n,t,i){var r,u;i||(i={});t&&(i.childCount>=0&&(r=jQuery.extend(!0,{},i),r.childCount--,this.loadHtmlElement(n,$(t).children(),r)),u=t.length,n?$(t).each(function(n,t){setTimeout(function(){$(t).addClass("transition");$(t).css(i.orientation?i.orientation:"left",i.offsetEnd?i.offsetEnd:0).css("opacity",1);this.initStyle($(t),1e3)},200+75*(u-n))}):$(t).each(function(n,t){$(t).addClass("transition");$(t).css(i.orientation?i.orientation:"left",0);setTimeout(function(){$(t).css(i.orientation?i.orientation:"left",i.offsetEnd?i.offsetEnd:1e3).css("opacity",0);this.initStyle($(t),1e3)},200+75*(i.offsetEnd&&i.offsetEnd>=0?u-n:n))}))},initStyle:function(n,t){t=t||0;setTimeout(function(){n.removeClass("transition");n.removeAttr("style");n.removeData("isAnimating")},t)},prepareForAnimatedLoadingHtmlElement:function(n,t){t||(t={});var i=this;$(n).children().each(function(n,r){if($(r).css("position","relative").css(t.orientation?t.orientation:"left",t.offsetStart?t.offsetStart+"px":"-50px").css("opacity","0"),$(r).data("isAnimating",!0),t.childCount>0){var u=jQuery.extend(!0,{},t);u.childCount--;i.prepareForAnimatedLoadingHtmlElement(r,u)}});$(n).show("fast")},ajaxJsonPost:function(n,t,i){$.ajax({data:i?JSON.stringify(i):"{}",url:n,success:function(n,i){t&&t(n,i)},dataType:"json",type:"POST",contentType:"application/json",processData:!1,converters:{"json jsond":function(n){return n.status?n.status:n}},error:this.onError})},ajaxPost:function(n,t,i){$.ajax({data:i,type:"POST",url:n,success:function(n,i){t&&t(n,i)},error:this.onError})},ajaxUploadFile:function(n,t,i){var u,r,f;if(t.length>0)if(window.FormData!==undefined){for(u=new FormData,r=0;r<t.length;r++)f=t[r].key||"file"+r,u.append(f,t[r]);$.ajax({type:"POST",url:n,contentType:!1,processData:!1,data:u,success:i.onSuccess||this.onSuccess,error:i.onError||this.onError})}else alert("This browser doesn't support HTML5 file uploads!")},setCookie:function(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+"; "+u},getCookie:function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return""},checkCookie:function(n){var t=this.getCookieForPlugin(n);return t&&t!==""},clearCookie:function(){for(var t=document.cookie.split(";"),n=0;n<t.length;n++)t[n].indexOf("mWallet")!==-1&&this.setCookieForPlugin(t[n].split("=")[0],"",-1)},roundingAt:function(n,t){return t===0?Math.round(n):n.toFixed(t)},onSuccess:function(n,t){console.log(_R$.strFormat("Call success | {0} | {1}",t,n))},onError:function(n,t,i){console.log(_R$.strFormat("Call error | {0} | {1} | {2} | {3}",t,i,n.statusText,n.status))},getKeysFromObject:function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t},updateHeight:function(n,t){var i=t?t:n.height();i&&(n.addClass("transition"),n.css({height:i}),setTimeout(function(){n.removeClass("transition")},1100));setTimeout(function(){n.removeAttr("style")},500)},getSizeOfHidden:function(n){var t=n.attr("style"),i;return n.css({position:"absolute",visibility:"hidden",display:"block"}),i={width:n.width(),height:n.height()},n.attr("style",t?t:""),i},getRandomNumber:function(n,t){return Math.floor(Math.random()*(t-n)+n)},NewGUID:function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},strFormat:function(){var n=arguments;if(typeof n[0]=="undefined")throw"Error - first argument must not be null";return n[0].replace(/{(\d+)}/g,function(t,i){var r=parseInt(i,0)+1;return typeof n[r]!="undefined"?n[r]:t})},isEventBound:function(n,t,i){return typeof jQuery!="undefined"&&(typeof jQuery._data(n,"events")=="undefined"||-1===$.inArray(i,jQuery._data(n,"events")[t]))}};_R$=new helpers;webGenerator.prototype={uploaded_filename:[],virtualDirectory:"",staticMethods:{getfileDisplayName:function(n){return n.length>32?n.substring(0,29)+"..."+n.substring(n.lastIndexOf(".")+1):n}},init:function(n){this.virtualDirectory=n;this.bindUploadSvgBtn();this.bindParametersCssStyle();this.bindToggledTitle()},addFilesToForm:function(){return $(this).closest("input[type='file']").focus(),!1},bindUploadSvgBtn:function(){var t,n;for($("input[type='file']").bind("change",this.fileInputChange),$("#btnSprite").bind("click",this.generateSprite),$(".glyphicon-remove").bind("click",this.removePicture),t=$(".filename"),n=0;n<t.length;n++)WebGenerator.uploaded_filename.push(t[n].innerHTML)},fileInputChange:function(n){for(var i,f,a=function(n){var t,i;if(n&&n.success)for(t=0;t<n.data.length;t++)i=$(".file-uploaded#"+n.data[t].key),i.removeClass("uploading"),WebGenerator.checkBtnSprite()},v=function(n,t,i){n.responseJSON&&n.responseJSON.data?alert(n.responseJSON.data):(console.log(_R$.strFormat("Call error | {0} | {1} | {2} | {3}",t,i,n.statusText,n.status)),console.log(n.responseText))},y=function(n){$(".file-uploaded#"+this.key+" img").attr("src",n.target.result)},e=$(this).parents().find(".files-target"),t=[],r=0;r<n.target.files.length;r++)WebGenerator.uploaded_filename.indexOf(n.target.files[r].name)===-1&&(t.push(n.target.files[r]),WebGenerator.uploaded_filename.push(n.target.files[r].name));for(i=0;i<t.length;i++){var u=t[i].name.substring(t[i].name.lastIndexOf(".")+1),o=t[i].name.substring(t[i].name.lastIndexOf("\\")+1),s=_R$.NewGUID(),h=u==="png"||u==="jpg"||u==="jpeg"||u==="svg",c=$(this).parents().find(".file-uploaded").length,l={id:s,displayname:WebGenerator.staticMethods.getfileDisplayName(o),filename:o,index:c.toString(),img:h?_R$.htmlTemplates.img({name:o}):""};c===0?e.html(_R$.htmlTemplates.fileUpload(l)):e.append(_R$.htmlTemplates.fileUpload(l));h&&(f=new FileReader,f.key=s,f.onload=y,f.readAsDataURL(t[i]));t[i].key=s}e.find(".glyphicon-remove").bind("click",WebGenerator.removePicture);t.length>=0&&_R$.ajaxUploadFile(WebGenerator.virtualDirectory+"/sprite/uploadsvg",t,{onSuccess:a,onError:v})},removePicture:function(){var n=$(this).closest(".file-uploaded"),t=n.find(".filename").text();_R$.ajaxJsonPost(WebGenerator.virtualDirectory+"/sprite/removePicture",function(t){t&&t.success&&(n.remove(),WebGenerator.checkBtnSprite())},{path:t})},checkBtnSprite:function(){$(".file-uploaded").length>0?$("button#btnSprite").removeAttr("disabled"):$("button#btnSprite").attr("disabled","disabled")},togglePicsBackground:function(){var n=$("body");n.hasClass("black-backgrnd")?n.removeClass("black-backgrnd"):n.addClass("black-backgrnd")},generateSprite:function(){var n=_R$.strFormat("?prefix={0}&padding={1}",$("#prefix").val(),$("#padding").val());window.open(WebGenerator.virtualDirectory+"/sprite/generateSprite"+n,"_blank")},bindParametersCssStyle:function(){$(".css-like input[type='text']").bind("keyup",this.updateInputSize).each(this.updateInputSize)},updateInputSize:function(){var n=$(this).val().length;n<=16&&$(this).css("width",(n+1)*8-(n>14?0:5))},bindToggledTitle:function(){$(".toggle-title").bind("click",this.toggleFromTitle)},toggleFromTitle:function(){$(this).hasClass("rotated")?$(this).removeClass("rotated"):$(this).addClass("rotated");var n=function(){var n=$(".parameter-section");n.hasClass("content-hidden")&&n.removeClass("content-hidden")},t=$(".parameter-section");t.hasClass("content-hidden")||(t.addClass("content-hidden"),n=null);$(".parameter-section div").toggle(200,n)}};WebGenerator=new webGenerator;